# Архив сайта журнала «Социологическое обозрение»

«Социологическое обозрение» – академический рецензируемый журнал по теоретическим, эмпирическим и историческим исследованиям в социальных науках. На сайте опубликованы данные о журнале (редколлегия, новости, контакты и т.д.), информация для авторов статей, архив статей, разделенный по рубрикам, авторам, выпускам и др.

## wpull

**Описание раздела**

В разделе содержится информация о результатах сбора архива сайта при помощи скрипта массовой загрузки с использованием библиотеки Python **wpull**.

**Результаты**

В ходе работы удалось успешно сохранить сайт журнала, что подтверждается при попытке открыть и просмотреть архив в сервисе [REPLAY WEBPAGE](https://replayweb.page/) (удачно прогружаются и русские, и английские версии страниц, не прогружаются ссылки, ведущие на внешние ресурсы, что вполне ожидаемо). Общий объем содержимого сайта составил 863 МБ. 

![](/sociologica.hse.ru/replaywebpage.jpg)

## ArchiveReady

**Описание раздела**

В разделе содержатся данные, полученные в ходе подсчёта показателей архивируемости сайта по методике **CLEAR** с помощью сервиса **ArchiveReady**, а также анализ полученных результатов.

**Результаты**

![](/sociologica.hse.ru/archiveready.jpg)

Несмотря на успешный эксперимент по загрузке сайта при помощи **wpull**, он получил средний индекс архивируемости – 78%, обусловленный низкими или средними показателями некоторых аспектов: доступности (Accessibility), целостности (Cohesion) и соответствия стандартам (Standards compliance).  Изучение подробных результатов показало следующее:
1. У сайта низкий показатель доступности, который связан с неудачно организованным кодом, вымершими ссылками, ведущими на внешние сайты, отсутствием sitemap, который упростил бы архивацию за счет готового представления структуры сайта, наличием команд disallow в robots.txt.
2. На показатель соответствия стандартам повлияли некорректные html- и css-файлы.
3. Некоторое снижение показателя целостности связано с наличием внешних изображений и скриптов, затрудняющим процесс архивации.
4. Показатель метаданных – 100%, ошибки не выявлены.

## metawarc

**Описание раздела**

В разделе содержатся результаты анализа метаданных содержимого warc-файлов с помощью утилиты командной строки **metawarc**. В работе использовались следующие команды:
 1. **analyze**
 2. **metadata**
 3. **index**
 4. **dump**

**Результаты**

 1. `metawarc analyze sociologica.hse.ru.warc.gz`
	  | mimes                  | files | files      | share       |
	  |------------------------|-------|------------|-------------|
	  | application/pdf        | 1103  | 744675140  | 55.1933     |
	  | text/html              | 23293 | 588434857  | 43.6132     |
	  | text/plain             | 3893  | 13185404   | 0.977266    |
	  | image/jpeg             | 198   | 2736575    | 0.202828    |
	  | image/png              | 7     | 132530     | 0.00982276  |
	  | image/gif              | 10    | 41618      | 0.00308461  |
	  | image/svg+xml          | 1     | 4093       | 0.000303362 |
	  | application/javascript | 2     | 2561       | 0.000189814 |
	  | #total                 | 28507 | 1349212778 | 100         |
	 
  	Как и ожидалось, наибольшим весом обладают pdf-файлы, поскольку это научный журнал, основным продуктом производства которого являются статьи (зачастую очень большие). Также очень большую часть (по сравнению с другими архивами в коллекции) занимают html-файлы, обеспечивающие работу сайта.
	 
 2. `metawarc metadata --output sociologica.hse.ru_meta.jsonl sociologica.hse.ru.warc.gz`

	Полученные метаданные записаны в файл **sociologica.hse.ru_meta.jsonl**. Сбор метаданных оказался в большей части успешным, однако в ходе работы возникли ошибки, отражённые в файле **metadata_errors.txt**.
 
 3. `metawarc index sociologica.hse.ru.warc.gz`
 
	 В результате работы команды на основе метаданных была создана база данных (файл **metawarc.db**), которая может использоваться для реализации других команд, например, **stats** или **dump**.
 
 4. `metawarc dump -m 'application/pdf' -o pdf`

	В результате работы команды был сформированы [под-архив](https://disk.yandex.ru/d/673aOsQ6h62tKQ), включающий все pdf-файлы, содержащиеся в основном архиве. Эта команда была выполнена для быстрого скачивания всех статей, представлявших основной интерес при сохранении сайта, однако стоит отметить, что в под-архив могли попасть не только тексты статей, но и дополнительные материалы, так как настройки команды не позволяют разделить файлы по их содержанию.
	В команде использовался параметр mime (content type), а не extension, поскольку при просмотре базы данных на [специальном ресурсе](https://inloop.github.io/) выяснилось, что не все метаданные загрузились корректно, в связи с чем у некоторых файлов отсутствуют данные о расширении, имени и т.д.
